{"ast":null,"code":"import React from'react';import{Formik,Form,Field,ErrorMessage}from'formik';import*as Yup from'yup';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const{user}=useAuth();const initialValues={name:(user===null||user===void 0?void 0:user.name)||'',email:(user===null||user===void 0?void 0:user.email)||'',phone:(user===null||user===void 0?void 0:user.phone)||'',address:(user===null||user===void 0?void 0:user.address)||''};const validationSchema=Yup.object({name:Yup.string().required('Nom requis'),email:Yup.string().email('Email invalide').required('Email requis'),phone:Yup.string().required('Téléphone requis'),address:Yup.string().required('Adresse requise')});const handleSubmit=async(values,_ref)=>{let{setSubmitting,setStatus}=_ref;try{setStatus({success:'Profil mis à jour avec succès'});}catch(error){var _error$response,_error$response$data;setStatus({error:((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Erreur lors de la mise à jour du profil'});}finally{setSubmitting(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-2xl mx-auto p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-6\",children:\"Mon Profil\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,validationSchema:validationSchema,onSubmit:handleSubmit,children:_ref2=>{let{isSubmitting,status}=_ref2;return/*#__PURE__*/_jsxs(Form,{children:[(status===null||status===void 0?void 0:status.success)&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-green-100 text-green-700 rounded\",children:status.success}),(status===null||status===void 0?void 0:status.error)&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-red-100 text-red-700 rounded\",children:status.error}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"block text-gray-700 mb-2\",children:\"Nom complet\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",name:\"name\",id:\"name\",className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"name\",component:\"div\",className:\"text-red-500 text-sm mt-1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-gray-700 mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(Field,{type:\"email\",name:\"email\",id:\"email\",className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"email\",component:\"div\",className:\"text-red-500 text-sm mt-1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phone\",className:\"block text-gray-700 mb-2\",children:\"T\\xE9l\\xE9phone\"}),/*#__PURE__*/_jsx(Field,{type:\"tel\",name:\"phone\",id:\"phone\",className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"phone\",component:\"div\",className:\"text-red-500 text-sm mt-1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"address\",className:\"block text-gray-700 mb-2\",children:\"Adresse\"}),/*#__PURE__*/_jsx(Field,{type:\"text\",name:\"address\",id:\"address\",className:\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary\"}),/*#__PURE__*/_jsx(ErrorMessage,{name:\"address\",component:\"div\",className:\"text-red-500 text-sm mt-1\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isSubmitting,className:\"mt-4 bg-primary text-white px-6 py-2 rounded font-semibold hover:bg-primary-dark transition duration-300\",children:isSubmitting?'Mise à jour...':'Mettre à jour le profil'})]});}})})]});};export default Profile;","map":{"version":3,"names":["React","Formik","Form","Field","ErrorMessage","Yup","useAuth","jsx","_jsx","jsxs","_jsxs","Profile","user","initialValues","name","email","phone","address","validationSchema","object","string","required","handleSubmit","values","_ref","setSubmitting","setStatus","success","error","_error$response","_error$response$data","response","data","message","className","children","onSubmit","_ref2","isSubmitting","status","htmlFor","type","id","component","disabled"],"sources":["/home/rapha/dev/delivery_app/client/src/pages/Profile.jsx"],"sourcesContent":["import React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst Profile = () => {\n  const { user } = useAuth();\n\n  const initialValues = {\n    name: user?.name || '',\n    email: user?.email || '',\n    phone: user?.phone || '',\n    address: user?.address || '',\n  };\n\n  const validationSchema = Yup.object({\n    name: Yup.string().required('Nom requis'),\n    email: Yup.string().email('Email invalide').required('Email requis'),\n    phone: Yup.string().required('Téléphone requis'),\n    address: Yup.string().required('Adresse requise'),\n  });\n\n  const handleSubmit = async (values, { setSubmitting, setStatus }) => {\n    try {\n      setStatus({ success: 'Profil mis à jour avec succès' });\n    } catch (error) {\n      setStatus({ error: error.response?.data?.message || 'Erreur lors de la mise à jour du profil' });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-2xl mx-auto p-4\">\n      <h1 className=\"text-3xl font-bold mb-6\">Mon Profil</h1>\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        <Formik\n          initialValues={initialValues}\n          validationSchema={validationSchema}\n          onSubmit={handleSubmit}\n        >\n          {({ isSubmitting, status }) => (\n            <Form>\n              {status?.success && (\n                <div className=\"mb-4 p-3 bg-green-100 text-green-700 rounded\">\n                  {status.success}\n                </div>\n              )}\n              {status?.error && (\n                <div className=\"mb-4 p-3 bg-red-100 text-red-700 rounded\">\n                  {status.error}\n                </div>\n              )}\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div className=\"mb-4\">\n                  <label htmlFor=\"name\" className=\"block text-gray-700 mb-2\">\n                    Nom complet\n                  </label>\n                  <Field\n                    type=\"text\"\n                    name=\"name\"\n                    id=\"name\"\n                    className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary\"\n                  />\n                  <ErrorMessage\n                    name=\"name\"\n                    component=\"div\"\n                    className=\"text-red-500 text-sm mt-1\"\n                  />\n                </div>\n                <div className=\"mb-4\">\n                  <label htmlFor=\"email\" className=\"block text-gray-700 mb-2\">\n                    Email\n                  </label>\n                  <Field\n                    type=\"email\"\n                    name=\"email\"\n                    id=\"email\"\n                    className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary\"\n                  />\n                  <ErrorMessage\n                    name=\"email\"\n                    component=\"div\"\n                    className=\"text-red-500 text-sm mt-1\"\n                  />\n                </div>\n                <div className=\"mb-4\">\n                  <label htmlFor=\"phone\" className=\"block text-gray-700 mb-2\">\n                    Téléphone\n                  </label>\n                  <Field\n                    type=\"tel\"\n                    name=\"phone\"\n                    id=\"phone\"\n                    className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary\"\n                  />\n                  <ErrorMessage\n                    name=\"phone\"\n                    component=\"div\"\n                    className=\"text-red-500 text-sm mt-1\"\n                  />\n                </div>\n                <div className=\"mb-4\">\n                  <label htmlFor=\"address\" className=\"block text-gray-700 mb-2\">\n                    Adresse\n                  </label>\n                  <Field\n                    type=\"text\"\n                    name=\"address\"\n                    id=\"address\"\n                    className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-primary\"\n                  />\n                  <ErrorMessage\n                    name=\"address\"\n                    component=\"div\"\n                    className=\"text-red-500 text-sm mt-1\"\n                  />\n                </div>\n              </div>\n              <button\n                type=\"submit\"\n                disabled={isSubmitting}\n                className=\"mt-4 bg-primary text-white px-6 py-2 rounded font-semibold hover:bg-primary-dark transition duration-300\"\n              >\n                {isSubmitting ? 'Mise à jour...' : 'Mettre à jour le profil'}\n              </button>\n            </Form>\n          )}\n        </Formik>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}